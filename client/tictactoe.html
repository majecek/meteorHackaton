<head>
    <title>tictactoe</title>
</head>

<body>

<div class="navbar">
    <div class="navbar-inner">
        <a class="brand" href="#">Tic-Tac-Toe</a>
        <ul class="nav">
            <li class="active"><a href="#">{{loginButtons align="left"}}</a></li>
            <li>{{> newGame}}</li>
        </ul>
    </div>
</div>


<div class="row-fluid">
    {{#if currentUser}}
    <div class="span6">
        {{> bootstrapCanvas}}
    </div>
    <div class="span6">
        {{> availableGames}}
    </div>
    {{/if}}
</div>

</body>


<template name="newGame">
    <input type="button" value="Create game" class="btn btn-warning create-game">
</template>

<template name="availableGames">


        <table>
            {{#each games}}
            <tr>
                <td><h4>{{status}}</h4></td>
                <td><h6>{{emails}}</h6></td>
                <td>
                    {{#if canJoin}}
                        <input type="button" value="Join game" class="btn btn-warning join-game" id="{{_id}}">
                    {{/if}}
                        <input type="button" value="Switch to game" class="btn btn-success view-game" id="{{_id}}">{{#if isWinner}}<b>Winner: {{winner.email}}</b>{{/if}}
                </td>
            </tr>
            {{/each}}
        </table>
</template>


<template name="bootstrapCanvas">

            <p>Next Player: <span class="text-info">{{game.game.nextPlayer}}</span></p>

            <table class="tictactoe">
                {{#each game.board}}
                <tr>
                    {{#each cells}}
                    <td class="cell {{symbol}}">
                        {{> cell}}
                    </td>
                    {{/each}}
                </tr>
                {{/each}}
            </table>

</template>

<template name="cell">

    <!--{{position.x}}-{{position.y}}-->
    &nbsp;


</template>
